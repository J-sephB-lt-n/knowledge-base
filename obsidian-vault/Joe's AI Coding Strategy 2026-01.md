---
created:
  - 2026-01-24T23:05
modified: 2026-02-05 22:41
tags:
  - llm
  - ai
  - ai-dev
  - ai-development
  - coding-agent
  - ai-coding
  - large-language-model
  - agentic
  - ai-agent
  - cursor
  - claude-code
  - opencode
  - openai
  - codex
  - openai-codex
type:
  - note
status:
  - in-progress
---
I was a skeptic for a very long time, but it's become clear to me that I need to embrace AI-generated coding and become an expert in it (while not losing the ability to think for myself).

I've been very convinced this month by these approaches to AI coding:
1. https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents
2. [# Getting AI to Work in Complex Codebases (Dexter Horthy)](https://github.com/humanlayer/advanced-context-engineering-for-coding-agents/blob/main/ace-fca.md)

Facts I consider to be true (about LLMs and LLM coding agents):
(be careful if changing fact IDs here as these numbers are referenced later in this document)

| Fact ID | Fact                                                                                                                                                       | My confidence | Source                                                                                                   | Implication for coding agents                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------- | -------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1       | AI content is drowning in hype and marketing but there is real value for code generation (and learning)                                                    | HIGH          | My own experience                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2       | If I delegate all knowledge to LLMs then my own skills will stagnate                                                                                       | HIGH          | My own experience                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 3       | All LLMs have a knowledge cutoff                                                                                                                           | HIGH          | Fundamental of the model architecture                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 4       | All LLMs base (pretraining) training data is primarily the public internet<br>(Anthropic also trained on millions of books, mostly pirated)                | MEDIUM        | - Common knowledge (e.g. common crawl)<br>- The big 2025 Anthropic law suit about pirated books          | - LLMs perform best at things that are commonly documented (e.g python vs zig). They are bad at niche tasks. i.e. use the most common technologies and standards (json, bash, git, react etc.)<br>- LLMs inherit bad habits (e.g. python bare try/except). Can mitigate with prompting (e.g. AGENTS.md)<br>- Magic words like "vertical slice architecture" or "Test-Driven Development" or "John Ousterhout" convey a lot of context to a LLM (drastically change their behaviour) |
| 5       | Coding AI agent products (e.g. Claude Code, Cursor, OpenAI codex) wrap the LLMs in a lot of their own custom prompting/tools/wrappers/ecosystem            | HIGH          |                                                                                                          | - Getting too tied up in an existing ecosystem (e.g. cursor) makes it harder to work in another (e.g. Claude Code)                                                                                                                                                                                                                                                                                                                                                                  |
| 6       | All LLMs are auto-regressive next token predictors                                                                                                         | HIGH          |                                                                                                          | - Ordering of information in the context window matters<br>- Place reasoning, motivation, discussion etc. before final decision or code generation.<br>- We can only control output quality through the content of the context window                                                                                                                                                                                                                                               |
| 7       | MCP, skills, subagents, background agents may or may not be useful                                                                                         |               |                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 8       | AI providers are running at a loss trying to capture market share                                                                                          | MEDIUM        |                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 9       | LLMs hallucinate and are convincing liars<br>(this is what they are trained to do)                                                                         | HIGH          | - Common knowledge<br>- My own experience                                                                | - write explicit tests before the code is written (maybe hide these from the agent)<br>- do TDD<br>- agentic code review<br>                                                                                                                                                                                                                                                                                                                                                        |
| 10      | Generating reasoning traces improves performance on complex tasks                                                                                          | HIGH          | Documented in many studies                                                                               | Choose reasoning ("thinking") models for more complex coding tasks                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 11      | Coding agents don't do long-term planning or architecture thinking                                                                                         | MEDIUM        | - My own experience                                                                                      | - This must be done for (and/or with) them<br>- Desired patterns must be documented and given to agents explicitly as context.<br>- Agents needs to be monitored to ensure they are complying with the architecture. Agent code reviewers?                                                                                                                                                                                                                                          |
| 12      | LLM are very good at using tools<br>(I'm sure they are fine-tuned for this)                                                                                | HIGH          | - My own experience                                                                                      | Give agents tools to use                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 13      | A small number of good agent tools is better than many rubbish tools                                                                                       | HIGH          | - My own experience<br>- This was the original concept behind Claude Code (i.e. bash vs custom indexing) | It is worth investing a lot of time in iterating on a single agent tool                                                                                                                                                                                                                                                                                                                                                                                                             |
| 14      | More specific (unambiguous) and comprehensive prompts work result in better code                                                                           | HIGH          | - My own experience<br>- Common knowledge                                                                | - Work with a  template/framework which elicits good requirements (e.g. FURPS+)<br>- Use a chatbot to help refine prompts to make them more precise                                                                                                                                                                                                                                                                                                                                 |
| 15      | More relevant context leads to better code                                                                                                                 | HIGH          | - Common knowledge<br>- My own experience                                                                | Need to find an efficient way to manage context                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 16      | LLMs' broad pretraining makes them great for discussing/exploring different possible approaches to a problem                                               | HIGH          | My own experience                                                                                        | Have an explicit agent which involves brainstorming different possible approaches                                                                                                                                                                                                                                                                                                                                                                                                   |
| 17      | Structured reasoning (e.g. step-by-step reasoning, plan then execute, explain decisions, decompose into subproblems) improves performance on complex tasks | MEDIUM        |                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 18      | Different LLMs need different prompting approaches                                                                                                         | LOW           | - Picked this up online                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 19      | Coding agents do better on small (tightly scoped) tasks than on large (loosely defined) ones                                                               | MEDIUM        |                                                                                                          | Break up big tasks into smaller tightly scoped and defined ones                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 20      | Iterative refinement works better than one-shot prompting<br>(LLMs work well in a feedback loop)                                                           |               | - My own experience                                                                                      | - Code review and QA (testing) agents<br>- Make use of the chatbot interface with the agent to iteratively explore the problem/solution space, ask the agent questions or iteratively guide the agent<br>                                                                                                                                                                                                                                                                           |
| 21      | Coding agents write code FAST.<br>Keeping the codebase under control is one of the biggest challenges.                                                     | HIGH          | - My own experience                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 22      | Agents benefit from a clean environment                                                                                                                    | MEDIUM        | - My own experience                                                                                      | - If things are consistent in the codebase, then the agent can maintain that consistency (or be instructed to). i.e. we should make style, language, environment and architecture patterns explicit.<br>- The agent shouldn't need to waste tokens working out how to run the app/tests etc. correctly. Agent can fix this, or work it out then document it.                                                                                                                        |
| 23      | LLM agents are amazing at bash                                                                                                                             | HIGH          | - My own experience<br>- Claude Code                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 24      | It's hard to reason about and maintain a complex AI coding workflow<br>(e.g. multiple dependent agent slash commands with shared state)                    | MEDIUM        | - My own experience                                                                                      | - Keep things modular and simple                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 25      | Agents need to share state (context)                                                                                                                       | HIGH          | - Common sense                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 26      | LLMs are strong at language tasks (especially text generation)                                                                                             | HIGH          | - My own experience                                                                                      | - Use LLMs to review/improve prompts (e.g. "make this more precise", "apply LLM best practices")                                                                                                                                                                                                                                                                                                                                                                                    |
| 27      | What's in the context window is the only quality control we have                                                                                           | HIGH          |                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 28      | LLM quality degrades as the context window fills up ("context rot")                                                                                        | HIGH          | - My own experience<br>- This is well documented, with supporting data                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 29      | AI coding agents will proactively read files without asking for permission                                                                                 | HIGH          | - My own experience                                                                                      | - This is a feature, not a bug<br>- Explicitly tell them not to to avoid them having conflicting context                                                                                                                                                                                                                                                                                                                                                                            |
| 30      | Coding agents won't necessarily consider input validation, resource cleanup, thread/process safety, security, error handling                               |               |                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 31      | Few-shot prompting works well                                                                                                                              |               |                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |


## Proposed practices
(be careful if changing Practice IDs here as these numbers are referenced later in this document)

| Practice ID | Practice                                                                                                                                                    | Motivation/Notes                                                                                                                                                                                                                                                                                      | Fact ID(s) |
| ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------- |
| 1           | Store globally relevant context in `README.md` and `/docs/*.md` (e.g. `docs/PRD.md`)                                                                        | - It's important to have a consistent place<br>- Prompt agents to ask permission to write context to these specific places (see practice ID 14)                                                                                                                                                       | 25         |
| 2           | Store context relevant only to the current task in `.current_agent_context/*.md`                                                                            | - It's important to have a consistent place.<br>- This needs to be cleaned out before starting a new task<br>- `.current_agent_context/dev_notes.md`<br>- `.current_agent_context/features_list.json`<br>- `.current_agent_context/background_context.md`<br>                                         |            |
| 3           | Break up large tasks into smaller ones                                                                                                                      | - Can write the list to `.current_agent_context/features_list.json` (each entry with `id`, `name`, `description`, `status`, `last_updated_at`, `dependencies`)                                                                                                                                        |            |
| 4           | Make coding agents communicate through git logs and/or shared documents                                                                                     | PERSISTENT:<br>- `README.md`<br>- `docs/*.md`<br>- `docs/adr/<adr-num>-<adr-name>.md`<br>TEMPORARY:<br>- `.current_agent_context/dev_notes.md`<br>- `.current_agent_context/features_list.json`<br>- `.current_agent_context/background_context.md`                                                   |            |
| 5           | Add observed repeat bad agent behaviour to AGENTS.md                                                                                                        |                                                                                                                                                                                                                                                                                                       |            |
| 6           | Use a LLM to improve prompts before giving it to the coding agent                                                                                           |                                                                                                                                                                                                                                                                                                       | 14, 15, 26 |
| 7           | Be aware of existing agent rules (e.g. .cursorrules, AGENTS.md, CLAUDE.md) in a brownfield codebase<br>(we must know exactly what is in the context window) |                                                                                                                                                                                                                                                                                                       | 6          |
| 8           | Always include in the prompt things like "please ask me clarifying questions if anything is unclear"                                                        | This helps to remove ambiguity in the LLM prompt                                                                                                                                                                                                                                                      | 14         |
| 9           | Practice Test-Driven Development (TDD) wherever possible                                                                                                    | This helps make AI-generated code more testable and more trustworthy (this is not infallible)                                                                                                                                                                                                         | 9          |
| 10          | Intentionally review AI-generated code<br>(manually and with review agents)                                                                                 | This should be done frequently (at every step)<br>- Ensure that generated code adheres to it's requirements<br>- Ensure that generated code adheres to existing patterns in the codebase<br>- Ensure that generated code                                                                              | 10         |
| 11          | Create systems and frameworks for managing agent context (don't forget that agent context includes tools)                                                   |                                                                                                                                                                                                                                                                                                       |            |
| 12          | Instruct my coding agents to prompt me for what I know they need (explicit requirements, links to files for task context etc.)                              | - This helps me to remember to give the LLM agent what it needs in order to do it's task well<br>- This is easy to include in agent slash commands<br>- If I tell it not to do something, suggest that I add it to `AGENTS.md` (see practice_id=5)                                                    | 14         |
| 13          | Use subagents to preserve the context window                                                                                                                |                                                                                                                                                                                                                                                                                                       | 28         |
| 14          | Write prompts such that the agent reminds me to do the right thing                                                                                          | Examples:<br>- Tell the agent to ask for clarification if something in it's prompt is unclear<br>- Tell the agent to remind me to commit to git<br>- Tell the agent to remind me to persist agent context in the right place<br>- Have the agent ask permission to do Test-Driven Development<br>etc. |            |
| 15          | Used LLMs for ideation                                                                                                                                      |                                                                                                                                                                                                                                                                                                       |            |
| 16          | Exploit LLM's general knowledge (everything they've memorised during pretrainin)                                                                            |                                                                                                                                                                                                                                                                                                       |            |
| 17          | Be vendor-agnostic                                                                                                                                          | - Don't tie my workflows to a particular LLM, agentic coding IDE etc.                                                                                                                                                                                                                                 | 5          |
| 18          | Manually create guardrails and evaluation/validation systems (e.g. hand-written tests) for evaluating AI-written code                                       |                                                                                                                                                                                                                                                                                                       |            |
| 19          | Be cognisant of the order in which content appears in my prompts                                                                                            | - Order matters<br>- "Lost in the middle"                                                                                                                                                                                                                                                             |            |
| 20          | Know git well so that coding agent mistakes don't matter<br>(easy to roll back, edit history, compare versions over time etc.)                              | - Do frequent atomic commits<br>- LLMs are great at creating descriptive commit messages, and at *helping* with git (not doing git for you)                                                                                                                                                           | 9          |

## Proposed coding agent workflow:
(putting all of my proposed practices into practice)

(For a more concise - maybe also more up to date - version of this, look at my bash function  `cursor_helper`)

| Step                                                                                                                                                                                                       | What it Does                                                                                                                                                                                                                                                                                                                                                                                                                          | Practice ID(s) |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- |
| 1. **/discuss_potential_approaches_llm_general_knowledge**<br>and/or **discuss_potential_approaches_framework_based**<br>2.<br>**/more_solutions** (can run this many times)<br>3.<br>**/assess_solution** | - First, systematically explore potential solutions.<br>- Second, systematically assesses the chosen solution.<br>- This sequence of steps could just be run in ChatGPT web.                                                                                                                                                                                                                                                          | 15, 16, 19     |
| **/discuss_prd**<br>(for greenfield only)<br>                                                                                                                                                              | Create Product Requirements Document through a guided chat with a chatbot                                                                                                                                                                                                                                                                                                                                                             |                |
| **/discuss_codebase_architecture**<br>(greenfield: discuss->scaffold->document)<br>(brownfield: understand->document)                                                                                      | Creates an architecture design document for a greenfield codebase (invent) or brownfield codebase (describe)                                                                                                                                                                                                                                                                                                                          | 11             |
| **/research**                                                                                                                                                                                              | - Gather context on the problem to be solved and saves it to file (default: `.current_agent_context/background_context.md`)<br>- **/discuss_requirements** expects this output<br>- could also be used for other generic context-gathering tasks                                                                                                                                                                                      |                |
| **/discuss_requirements**<br>(brownfield or small coding task)<br>Define requirements iteratively through chat or using a template/framework through guided chat with chatbot                              | 1. Asks me which of a preset list of requirements elicitation frameworks should be included<br>2. Asks me to describe the problem I'm trying to solve.<br>3. Runs me through each elicitation framework.<br>4. Organises the requirements gathered into a document and asks where it should save it (default `.current_agent_context/requirements.md`)                                                                                |                |
|                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                       |                |
| **/plan**                                                                                                                                                                                                  | - Break a task down and write the steps into  `.current_agent_context/features_list.json` into <br>- A fresh agent will execute each step. Agents communicate through git logs and files in `docs/*.md` and `.current_agent_context/.md`                                                                                                                                                                                              | 3              |
| **/write_code**                                                                                                                                                                                            | 1. Asks what context I have for it (e.g. specific docs).<br>- Suggests `git log`, all files in `docs/**` and `.current_agent_context/*`<br>2. Asks permission to do TDD.<br>3. Asks whether we should run the application and see if it's working<br>4. Asks whether we should run the tests.<br>5. Asks where to write it's progress to after it's finished (it suggests `git log`, `.current_agent_context/*.md`, update `docs/*`). | 4, 12          |
| **/review_code_agent_generated**<br>AND/OR<br>**/review_code_joe**                                                                                                                                         | - Checks agent-generated code adheres to existing application documentation <br>- Checks agent-generated code against specific predefined criteria                                                                                                                                                                                                                                                                                    | 10             |
| **SUBAGENT: codebase_research_agent**                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                       |                |


## References
* [Effective harnesses for long-running agents (Anthropic engineering blog)](https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents)
## Related
* [No Vibes Allowed - Solving Hard Problems in Complex Codebases Dex Horthy HumanLayer (presentation at AI Engineer 2025)](No%20Vibes%20Allowed%20-%20Solving%20Hard%20Problems%20in%20Complex%20Codebases%20Dex%20Horthy%20HumanLayer%20(presentation%20at%20AI%20Engineer%202025).md)
* [Effective harnesses for long-running agents (Anthropic Engineering Blog)](Effective%20harnesses%20for%20long-running%20agents%20(Anthropic%20Engineering%20Blog).md)