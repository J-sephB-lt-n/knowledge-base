---
created:
  - 2025-09-23T09:24
modified: 2025-09-23 11:00
tags:
  - rag
  - retrieval
  - retrieval-augmented-generation
  - agent
  - agentic
  - llm
  - gpt
  - large-language-model
  - context
  - context-window
type:
  - note
status:
  - in-progress
---
[Agentic RAG](Agentic%20RAG) refers to using [LLM Agents](LLM%20Agents.md) to answer a user query using search tools (functions) provided to them.

## Search over documents

### Document Search: Possible agent tools

| Tool                     | Description                                                                                                                                                                                                                                                                                                                                                                  |
| ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| View document structure  | If a document structure can be extracted or curated (e.g. the document contents section), this can be shown to the agent.<br>This can be created from the hierarchy of section headings if it is present.                                                                                                                                                                    |
| View section summary     | If the document has structure information (e.g. a nested hierarchy of sections) then section summaries can be recursively generated by starting at the most granular (deepest) sections, then summarising summaries upwards until reaching the level 1 headings.<br>An agent can choose to read a section summary using e.g. a `view_section_summary(section_id='...')` tool |
| View page/section        | Agent can choose to be shown a specific page or section.<br>Long pieces of text can be paginated for the agent.<br>e.g. it's tool can be used like `view_section(page=3)`                                                                                                                                                                                                    |
| Full text search         | Give the agent a tool for searching for a substring (or [[regex]] pattern) within the source text.<br>Could use [tf-idf](tf-idf.md) or [Okapi BM25](Okapi%20BM25.md) to rank the results for relevance.                                                                                                                                                                      |
| Semantic text search     | This could also be combined with full text search (i.e.  [[hybrid search]])<br>This is basically giving the agent a tool(s) which it can use to perform it's own [Retrieval-Augmented Generation (RAG)](Retrieval-Augmented%20Generation%20(RAG).md)                                                                                                                         |
| Fuzzy/approximate search | Full-text-search, but allows for typos                                                                                                                                                                                                                                                                                                                                       |
| Graph search/traversal   | If the document has been represented as a knowledge<br>i.e. the agent can do it's own [Graph RAG](Graph%20RAG.md)-type search.<br>See also section [Document Preprocessing](#Document%20Preprocessing)] below.                                                                                                                                                               |
| Metadata search          | If metadata has been extracted/generated for the document, agent can be given tools to search over this metadata.<br>This data could be stored in SQL, so the agent could do things like `WHERE 'some phrase' IN TEXT AND PAGE_NUM BETWEEN (69,420)`<br>See also section [Document Preprocessing](#Document%20Preprocessing) below.                                          |
| View document page image | For pages with complex layouts or pictures, agent can be shown a screenshot (e.g. PNG) of the page.                                                                                                                                                                                                                                                                          |
| Lookup definition        | Extract e.g. `definitions` of `glossary` from the document and then give the agent a tool for looking things up (like an acronym it encounters).                                                                                                                                                                                                                             |

### Document Preprocessing

Document(s) can be preprocessed in various ways in order to provide an enriched space over which a document Q&A agent can search/explore. Here are some options:

| Preprocessing step                                                                                                                                                                                                                                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Chunk text and embed                                                                                                                                                                                                                              | i.e. vanilla [Retrieval-Augmented Generation (RAG)](Retrieval-Augmented%20Generation%20(RAG).md)                                                                                                                                                                                                                                                                                                                                                                     |
| Extract document structure                                                                                                                                                                                                                        | e.g. from the PDF Table of Contents, or from an actual contents page, index, glossary etc. in the document                                                                                                                                                                                                                                                                                                                                                           |
| Metadata extraction                                                                                                                                                                                                                               | Can extract metadata for the document as a whole and/or for each section, subsection, paragraph, chunk etc.<br>This metadata can be searched over.<br>Example metadata: Title, author(s), keywords, tags, facts (e.g. knowledge triples), topics (e.g. topic mining/classification).<br>This metadata might be stored in some kind of database (e.g. SQL), to enable querying it in a structured way (e.g. combining complex logical conditions like AND OR IN etc.) |
| Knowledge Graph                                                                                                                                                                                                                                   | Represent the content of the graph (or it's most salient points) in a [[Knowledge Graph]].<br>Like [Graph RAG](Graph%20RAG.md), can also add community summary type nodes (even a hierarchy of them)<br>                                                                                                                                                                                                                                                             |
| [Overcome Failing Document Ingestion & RAG Strategies with Agentic Knowledge Distillation (pyramid search)](Overcome%20Failing%20Document%20Ingestion%20&%20RAG%20Strategies%20with%20Agentic%20Knowledge%20Distillation%20(pyramid%20search).md) |                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
## Web Search


## References
* Links to references (source material) go here
## Related
* [Advanced RAG Techniques](Advanced%20RAG%20Techniques.md)
* [A survey on large language model based autonomous agents (paper)](A%20survey%20on%20large%20language%20model%20based%20autonomous%20agents%20(paper).md)
* [LLM Agents](LLM%20Agents.md)
* [LLM SQL Agents](LLM%20SQL%20Agents.md)
